<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机网络-常见面试题 | lllllan</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="alternate" type="application/atom+xml" href="https://vue-blog.lllllan.cn/atom.xml" title="lllllan Atom Feed">
    <link rel="alternate" type="application/json" href="https://vue-blog.lllllan.cn/feed.json" title="lllllan JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://vue-blog.lllllan.cn/rss.xml" title="lllllan RSS Feed">
    <link rel="icon" href="/logo.png">
    <link rel="icon" href="/logo.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/logo.png" type="image/png" sizes="192x192">
    <link rel="icon" href="/logo.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/logo.png" type="image/png" sizes="192x192">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="/logo.png">
    <meta name="description" content="">
    <meta property="og:url" content="/3-cs-basic/1-network/2-interview-questions/">
    <meta property="og:site_name" content="lllllan">
    <meta property="og:title" content="计算机网络-常见面试题">
    <meta property="og:description" content="本文转载自 计算机网络常见面试题 | JavaGuide，略有改动。 一、OSI 与 TCP/ IP 各层的结构与功能，都有哪些协议？&quot; 开放式系统互联通信参考模型（英语：Open System Interconnection Reference Model，缩写为 OSI），简称为OSI模型（OSI model），一种概念模型，由国际标准化组织提出，一个">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh">
    <meta property="og:locale:alternate" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="lllllan">
    <meta property="article:author" content="lllllan">
    <meta property="article:tag" content="计算机网络">
    <meta name="theme-color" content="#46bd87">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/logo.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.fe5e2315.css" as="style"><link rel="preload" href="/assets/js/app.7623ec66.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.d3ef1ddc.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.e3241214.js" as="script"><link rel="preload" href="/assets/js/page-计算机网络-常见面试题.12b72724.js" as="script"><link rel="prefetch" href="/assets/js/33.b926f2cf.js"><link rel="prefetch" href="/assets/js/34.4ff3e206.js"><link rel="prefetch" href="/assets/js/35.f71f7041.js"><link rel="prefetch" href="/assets/js/36.397fd158.js"><link rel="prefetch" href="/assets/js/37.431f10eb.js"><link rel="prefetch" href="/assets/js/38.38748c91.js"><link rel="prefetch" href="/assets/js/layout-Blog.c3dc6a5c.js"><link rel="prefetch" href="/assets/js/layout-Layout.28148f81.js"><link rel="prefetch" href="/assets/js/layout-NotFound.bf2f1f09.js"><link rel="prefetch" href="/assets/js/layout-Slide.ece6abf0.js"><link rel="prefetch" href="/assets/js/page-ArrayList源码解读.30b50c64.js"><link rel="prefetch" href="/assets/js/page-JavaGuide-Java基础知识.d8f6c0f5.js"><link rel="prefetch" href="/assets/js/page-Java垃圾回收.d7d55f28.js"><link rel="prefetch" href="/assets/js/page-Java基础面试题.61a602e0.js"><link rel="prefetch" href="/assets/js/page-Java笔记.71dfa51a.js"><link rel="prefetch" href="/assets/js/page-Java集合框架基础知识.d5a74d66.js"><link rel="prefetch" href="/assets/js/page-MySQL笔记.d2e361f2.js"><link rel="prefetch" href="/assets/js/page-R2Coding-Java基础核心总结.feed7cd3.js"><link rel="prefetch" href="/assets/js/page-java内存区域详解.b16d6e94.js"><link rel="prefetch" href="/assets/js/page-java是值传递.23bb10e9.js"><link rel="prefetch" href="/assets/js/page-代理详解.c998792c.js"><link rel="prefetch" href="/assets/js/page-刷题笔记.99da6df2.js"><link rel="prefetch" href="/assets/js/page-反射机制.ca0607d7.js"><link rel="prefetch" href="/assets/js/page-操作系统-常见面试题.b4eb21f5.js"><link rel="prefetch" href="/assets/js/page-数组练习.6522bf3c.js"><link rel="prefetch" href="/assets/js/page-第一章、浏览器生成消息.4eb7b9f4.js"><link rel="prefetch" href="/assets/js/page-第三章、从网线到网络设备.1e0ba80d.js"><link rel="prefetch" href="/assets/js/page-第二章、用电信号传输TCPIP数据.b5f4e806.js"><link rel="prefetch" href="/assets/js/page-计算机基础.4f7d1845.js"><link rel="prefetch" href="/assets/js/page-项目主页.782c16fc.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.203be4f9.js"><link rel="prefetch" href="/assets/js/vendors~mermaid.0e400ad7.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.8923f59e.js"><link rel="prefetch" href="/assets/js/vendors~reveal.d4668ba8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fe5e2315.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="lllllan" class="logo"> <!----> <span class="site-name can-hide">lllllan</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  Blog Home
</a></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/lllllan-fv/blog" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  Blog Home
</a></div> <a rel="noopener noreferrer" href="https://github.com/lllllan-fv/blog" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><a href="/3-cs-basic/" aria-current="page" class="sidebar-link"><i class="iconfont icon-info"></i>计算机基础</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable open"><!----> <span class="title">计算机网络</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/3-cs-basic/1-network/2-interview-questions/" aria-current="page" class="active sidebar-link"><i class="iconfont icon-page"></i>计算机网络-常见面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#一、osi-与-tcp-ip-各层的结构与功能-都有哪些协议" class="sidebar-link">一、OSI 与 TCP/ IP 各层的结构与功能，都有哪些协议？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_1-1-应用层-进程之间" class="sidebar-link heading3">1.1 应用层 - 进程之间</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_1-2-运输层-主机之间" class="sidebar-link heading3">1.2 运输层 - 主机之间</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_1-3-网络层" class="sidebar-link heading3">1.3 网络层</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_1-4-数据链路层" class="sidebar-link heading3">1.4 数据链路层</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_1-5-物理层" class="sidebar-link heading3">1.5 物理层</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#总结-协议记不住" class="sidebar-link heading3">总结（协议记不住）</a></li></ul></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#二、tcp-三次握手" class="sidebar-link">二、TCP 三次握手</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_2-0-tcp-三次握手漫画图解" class="sidebar-link heading3">2.0 TCP 三次握手漫画图解</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_2-1-三次握手流程" class="sidebar-link heading3">2.1 三次握手流程</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_2-2-为什么要三次握手" class="sidebar-link heading3">2.2 为什么要三次握手</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_2-3-第二次握手传回了ack-为什么还要传syn" class="sidebar-link heading3">2.3 第二次握手传回了ACK，为什么还要传SYN？</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_2-4-为什么还需要第三次握手" class="sidebar-link heading3">2.4 为什么还需要第三次握手？</a></li></ul></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#三、tcp四次挥手" class="sidebar-link">三、TCP四次挥手</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_3-0-为什么要四次挥手" class="sidebar-link heading3">3.0 为什么要四次挥手</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_3-1-四次挥手流程" class="sidebar-link heading3">3.1 四次挥手流程</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_3-2-为什么客户端最后还要等待2msl" class="sidebar-link heading3">3.2 为什么客户端最后还要等待2MSL？</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_3-3-为什么建立连接是三次握手-关闭连接确是四次挥手呢" class="sidebar-link heading3">3.3 为什么建立连接是三次握手，关闭连接确是四次挥手呢？</a></li><li class="sidebar-sub-header"><a href="/3-cs-basic/1-network/2-interview-questions/#_3-4-如果已经建立了连接-但是客户端突然出现故障了怎么办" class="sidebar-link heading3">3.4 如果已经建立了连接，但是客户端突然出现故障了怎么办？</a></li></ul></li></ul></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable"><!----> <span class="title">网络是怎样连接的</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">操作系统</span> <span class="arrow right"></span></p> <!----></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/3-cs-basic/" property="item" typeof="WebPage" class="router-link-active"><i class="iconfont icon-info"></i> <span property="name">计算机基础</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/3-cs-basic/1-network/2-interview-questions/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><i class="iconfont icon-page"></i> <span property="name">计算机网络-常见面试题</span></a> <meta property="position" content="2"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><i class="iconfont icon-page"></i> <span property="headline">计算机网络-常见面试题</span></h1> <div class="page-info"><!----> <span aria-label="Author🖊" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">lllllan</span></span><!----><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2022-1-21</span></span><span role="navigation" aria-label="Category🌈" data-balloon-pos="down" class="category-info enable"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon category-icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zm-.854 446.486H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zm446.371-446.486h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zm136.293 813.51H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z" fill="currentColor"></path></svg> <span property="articleSection">计算机基础</span></span><span aria-label="Tags🏷" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon tag-icon"><path d="M939.902 458.563 910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 0 0 0 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z" fill="currentColor"></path></svg> <ul class="tags-wrapper"><li class="tag clickable tag0"><span role="navigation">计算机网络</span></li><li class="tag clickable tag1"><span role="navigation">面试题</span></li></ul> <meta property="keywords" content="计算机网络,面试题"></span><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 13 min</span> <meta property="timeRequired" content="PT13M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#一、osi-与-tcp-ip-各层的结构与功能-都有哪些协议" class="anchor-link heading2"><div>一、OSI 与 TCP/ IP 各层的结构与功能，都有哪些协议？</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_1-1-应用层-进程之间" class="anchor-link heading3"><div>1.1 应用层 - 进程之间</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_1-2-运输层-主机之间" class="anchor-link heading3"><div>1.2 运输层 - 主机之间</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_1-3-网络层" class="anchor-link heading3"><div>1.3 网络层</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_1-4-数据链路层" class="anchor-link heading3"><div>1.4 数据链路层</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_1-5-物理层" class="anchor-link heading3"><div>1.5 物理层</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#总结-协议记不住" class="anchor-link heading3"><div>总结（协议记不住）</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#二、tcp-三次握手" class="anchor-link heading2"><div>二、TCP 三次握手</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_2-0-tcp-三次握手漫画图解" class="anchor-link heading3"><div>2.0 TCP 三次握手漫画图解</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_2-1-三次握手流程" class="anchor-link heading3"><div>2.1 三次握手流程</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_2-2-为什么要三次握手" class="anchor-link heading3"><div>2.2 为什么要三次握手</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_2-3-第二次握手传回了ack-为什么还要传syn" class="anchor-link heading3"><div>2.3 第二次握手传回了ACK，为什么还要传SYN？</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_2-4-为什么还需要第三次握手" class="anchor-link heading3"><div>2.4 为什么还需要第三次握手？</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#三、tcp四次挥手" class="anchor-link heading2"><div>三、TCP四次挥手</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_3-0-为什么要四次挥手" class="anchor-link heading3"><div>3.0 为什么要四次挥手</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_3-1-四次挥手流程" class="anchor-link heading3"><div>3.1 四次挥手流程</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_3-2-为什么客户端最后还要等待2msl" class="anchor-link heading3"><div>3.2 为什么客户端最后还要等待2MSL？</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_3-3-为什么建立连接是三次握手-关闭连接确是四次挥手呢" class="anchor-link heading3"><div>3.3 为什么建立连接是三次握手，关闭连接确是四次挥手呢？</div></a></li><li class="anchor"><a href="/3-cs-basic/1-network/2-interview-questions/#_3-4-如果已经建立了连接-但是客户端突然出现故障了怎么办" class="anchor-link heading3"><div>3.4 如果已经建立了连接，但是客户端突然出现故障了怎么办？</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><div class="custom-block warning"><p class="custom-block-title">Note</p> <p>本文转载自 <a href="https://javaguide.cn/cs-basics/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/" target="_blank" rel="noopener noreferrer">计算机网络常见面试题 | JavaGuide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，略有改动。</p></div> <h2 id="一、osi-与-tcp-ip-各层的结构与功能-都有哪些协议"><a href="#一、osi-与-tcp-ip-各层的结构与功能-都有哪些协议" class="header-anchor">#</a> 一、OSI 与 TCP/ IP 各层的结构与功能，都有哪些协议？</h2> <blockquote><p><strong>开放式系统互联通信参考模型</strong>（英语：Open System Interconnection Reference Model，缩写为 OSI），简称为<strong>OSI模型</strong>（OSI model），一种<a href="https://baike.baidu.com/item/%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B/3187025" target="_blank" rel="noopener noreferrer">概念模型<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，由<a href="https://baike.baidu.com/item/%E5%9B%BD%E9%99%85%E6%A0%87%E5%87%86%E5%8C%96%E7%BB%84%E7%BB%87/779832" target="_blank" rel="noopener noreferrer">国际标准化组织<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>提出，一个试图使各种计算机在世界范围内互连为网络的标准框架。</p> <p>TCP/IP传输协议，即传输控制/网络协议，也叫作网络通讯协议。</p></blockquote> <p><img src="/assets/img/五层体系结构.279cd382.png" alt="五层体系结构"></p> <h3 id="_1-1-应用层-进程之间"><a href="#_1-1-应用层-进程之间" class="header-anchor">#</a> 1.1 应用层 - 进程之间</h3> <p><strong>应用层(application-layer）的任务是通过应用进程间的交互来完成特定网络应用</strong>。应用层协议定义的是应用进程（进程：主机中正在运行的程序）间的通信和交互的规则。对于不同的网络应用需要不同的应用层协议。在互联网中应用层协议很多，如<strong>域名系统 DNS</strong>，支持万维网应用的 <strong>HTTP 协议</strong>，支持电子邮件的 <strong>SMTP 协议</strong>等等。我们把应用层交互的数据单元称为<strong>报文</strong>。</p> <h3 id="_1-2-运输层-主机之间"><a href="#_1-2-运输层-主机之间" class="header-anchor">#</a> 1.2 运输层 - 主机之间</h3> <p><strong>运输层(transport layer)的主要任务就是负责向两台主机进程之间的通信提供通用的数据传输服务</strong>。应用进程利用该服务传送应用层报文。“通用的”是指并不针对某一个特定的网络应用，而是多种应用可以使用同一个运输层服务。由于一台主机可同时运行多个线程，因此运输层有复用和分用的功能。所谓复用就是指多个应用层进程可同时使用下面运输层的服务，分用和复用相反，是运输层把收到的信息分别交付上面应用层中的相应进程。</p> <h4 id="运输层使用协议"><a href="#运输层使用协议" class="header-anchor">#</a> 运输层使用协议</h4> <ol><li><strong>传输控制协议 TCP</strong>（Transmission Control Protocol）--提供<strong>面向连接</strong>的，<strong>可靠的</strong>数据传输服务。</li> <li><strong>用户数据协议 UDP</strong>（User Datagram Protocol）--提供<strong>无连接</strong>的，尽最大努力的数据传输服务（<strong>不保证数据传输的可靠性</strong>）。</li></ol> <h3 id="_1-3-网络层"><a href="#_1-3-网络层" class="header-anchor">#</a> 1.3 网络层</h3> <p><strong>在计算机网络中进行通信的两个计算机之间可能会经过很多个数据链路，也可能还要经过很多通信子网。网络层的任务就是选择合适的网间路由和交换结点， 确保数据及时传送。</strong> 在发送数据时，网络层把运输层产生的报文段或用户数据报封装成分组和包进行传送。在 TCP/IP 体系结构中，由于网络层使用 <strong>IP 协议</strong>，因此分组也叫 <strong>IP 数据报</strong> ，简称 <strong>数据报</strong>。</p> <p>互联网是由大量的异构（heterogeneous）网络通过路由器（router）相互连接起来的。互联网使用的网络层协议是无连接的网际协议（Internet Protocol）和许多路由选择协议，因此互联网的网络层也叫做<strong>网际层</strong>或<strong>IP 层</strong>。</p> <h3 id="_1-4-数据链路层"><a href="#_1-4-数据链路层" class="header-anchor">#</a> 1.4 数据链路层</h3> <p><strong>数据链路层(data link layer)通常简称为链路层。两台主机之间的数据传输，总是在一段一段的链路上传送的，这就需要使用专门的链路层的协议。</strong> 在两个相邻节点之间传送数据时，<strong>数据链路层将网络层交下来的 IP 数据报组装成帧</strong>，在两个相邻节点间的链路上传送帧。每一帧包括数据和必要的控制信息（如同步信息，地址信息，差错控制等）。</p> <blockquote><p>数据链路层不仅要查错，还要纠错。</p></blockquote> <h3 id="_1-5-物理层"><a href="#_1-5-物理层" class="header-anchor">#</a> 1.5 物理层</h3> <p><strong>物理层(physical layer)的作用是实现相邻计算机节点之间比特流的透明传送，尽可能屏蔽掉具体传输介质和物理设备的差异，</strong> 使其上面的数据链路层不必考虑网络的具体传输介质是什么。“透明传送比特流”表示经实际电路传送后的比特流没有发生变化，对传送的比特流来说，这个电路好像是看不见的。</p> <h3 id="总结-协议记不住"><a href="#总结-协议记不住" class="header-anchor">#</a> 总结（协议记不住）</h3> <p><img src="/assets/img/七层体系结构图.9c99f7c6.png" alt="七层体系结构图"></p> <h2 id="二、tcp-三次握手"><a href="#二、tcp-三次握手" class="header-anchor">#</a> 二、TCP 三次握手</h2> <p>为了准确无误地把数据送达目标处，TCP 协议采用了三次握手策略。</p> <h3 id="_2-0-tcp-三次握手漫画图解"><a href="#_2-0-tcp-三次握手漫画图解" class="header-anchor">#</a> 2.0 TCP 三次握手漫画图解</h3> <ul><li>客户端–发送带有 SYN 标志的数据包–一次握手–服务端</li> <li>服务端–发送带有 SYN/ACK 标志的数据包–二次握手–客户端</li> <li>客户端–发送带有带有 ACK 标志的数据包–三次握手–服务端</li></ul> <p><img src="/assets/img/三次握手.97a07428.png" alt="TCP三次握手"></p> <h3 id="_2-1-三次握手流程"><a href="#_2-1-三次握手流程" class="header-anchor">#</a> 2.1 三次握手流程</h3> <blockquote><p><strong>最开始的时候客户端和服务器都是处于CLOSED状态。主动打开连接的为客户端，被动打开连接的是服务器。</strong></p></blockquote> <ol><li>TCP服务器进程先创建传输控制块TCB，时刻准备接受客户进程的连接请求，此时服务器就进入了LISTEN（监听）状态；</li> <li>TCP客户进程也是先创建传输控制块TCB，然后向服务器发出连接请求报文，这是报文首部中的同部位<strong>SYN=1</strong>，同时选择一个<strong>初始序列号 seq=x</strong> ，此时，TCP客户端进程进入了 SYN-SENT（同步已发送状态）状态。TCP规定，SYN报文段（SYN=1的报文段）不能携带数据，但需要消耗掉一个序号。</li> <li>TCP服务器收到请求报文后，如果同意连接，则发出确认报文。确认报文中应该 <strong>ACK=1，SYN=1</strong>，<strong>确认号是ack=x+1</strong>，同时也要为自己初始化一个<strong>序列号 seq=y</strong>，此时，TCP服务器进程进入了SYN-RCVD（同步收到）状态。这个报文也不能携带数据，但是同样要消耗一个序号。</li> <li>TCP客户进程收到确认后，还要向服务器给出确认。确认报文的<strong>ACK=1，ack=y+1</strong>，自己的<strong>序列号seq=x+1</strong>，此时，TCP连接建立，客户端进入ESTABLISHED（已建立连接）状态。TCP规定，ACK报文段可以携带数据，但是如果不携带数据则不消耗序号。</li> <li>当服务器收到客户端的确认后也进入ESTABLISHED状态，此后双方就可以开始通信了。</li></ol> <p><img src="/assets/img/0c9f470819684156cfdc27c682db4def.cf54da4f.png" alt="img"></p> <h3 id="_2-2-为什么要三次握手"><a href="#_2-2-为什么要三次握手" class="header-anchor">#</a> 2.2 为什么要三次握手</h3> <p><strong>三次握手的目的是建立可靠的通信信道，就是双方确认自己与对方的发送与接收是正常的。</strong></p> <ol><li>第一次握手：Client 什么都不能确认；Server 确认了对方发送正常，自己接收正常</li> <li>第二次握手：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：对方发送正常，自己接收正常</li> <li>第三次握手：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：自己发送、接收正常，对方发送、接收正常</li></ol> <h3 id="_2-3-第二次握手传回了ack-为什么还要传syn"><a href="#_2-3-第二次握手传回了ack-为什么还要传syn" class="header-anchor">#</a> 2.3 第二次握手传回了ACK，为什么还要传SYN？</h3> <blockquote><p>接收端传回发送端所发送的 ACK 是为了告诉客户端，我接收到的信息确实就是你所发送的信号了，这表明从客户端到服务端的通信是正常的。而回传 SYN 则是为了建立并确认从服务端到客户端的通信。</p></blockquote> <p>**SYN 同步序列编号(**Synchronize Sequence Numbers) 是 TCP/IP 建立连接时使用的握手信号。在客户机和服务器之间建立正常的 TCP 网络连接时，客户机首先发出一个 SYN 消息，服务器使用 SYN-ACK 应答表示接收到了这个消息，最后客户机再以 ACK(Acknowledgement）消息响应。这样在客户机和服务器之间才能建立起可靠的 TCP 连接，数据才可以在客户机和服务器之间传递</p> <h3 id="_2-4-为什么还需要第三次握手"><a href="#_2-4-为什么还需要第三次握手" class="header-anchor">#</a> 2.4 为什么还需要第三次握手？</h3> <p><strong>主要防止已经失效的连接请求报文突然又传送到了服务器，从而产生错误。</strong></p> <p>如果使用的是两次握手建立连接，假设有这样一种场景，客户端发送了第一个请求连接并且没有丢失，只是因为在网络结点中滞留的时间太长了，由于TCP的客户端迟迟没有收到确认报文，以为服务器没有收到，此时重新向服务器发送这条报文，此后客户端和服务器经过两次握手完成连接，传输数据，然后关闭连接。此时此前滞留的那一次请求连接，网络通畅了到达了服务器，这个报文本该是失效的，但是，两次握手的机制将会让客户端和服务器再次建立连接，这将导致不必要的错误和资源的浪费。</p> <p>如果采用的是三次握手，就算是那一次失效的报文传送过来了，服务端接受到了那条失效报文并且回复了确认报文，但是客户端不会再次发出确认。由于服务器收不到确认，就知道客户端并没有请求连接。</p> <h2 id="三、tcp四次挥手"><a href="#三、tcp四次挥手" class="header-anchor">#</a> 三、TCP四次挥手</h2> <h3 id="_3-0-为什么要四次挥手"><a href="#_3-0-为什么要四次挥手" class="header-anchor">#</a> 3.0 为什么要四次挥手</h3> <p>断开一个 TCP 连接则需要“四次挥手”：</p> <ul><li>客户端-发送一个 FIN，用来关闭客户端到服务器的数据传送</li> <li>服务器-收到这个 FIN，它发回一 个 ACK，确认序号为收到的序号加 1 。和 SYN 一样，一个 FIN 将占用一个序号</li> <li>服务器-关闭与客户端的连接，发送一个 FIN 给客户端</li> <li>客户端-发回 ACK 报文确认，并将确认序号设置为收到序号加 1</li></ul> <p><img src="data:image/png;base64,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" alt="TCP四次挥手"></p> <p>任何一方都可以在数据传送结束后发出连接释放的通知，待对方确认后进入半关闭状态。当另一方也没有数据再发送的时候，则发出连接释放通知，对方确认后就完全关闭了 TCP 连接。</p> <p>举个例子：A 和 B 打电话，通话即将结束后，A 说“我没啥要说的了”，B 回答“我知道了”，但是 B 可能还会有要说的话，A 不能要求 B 跟着自己的节奏结束通话，于是 B 可能又巴拉巴拉说了一通，最后 B 说“我说完了”，A 回答“知道了”，这样通话才算结束。</p> <h3 id="_3-1-四次挥手流程"><a href="#_3-1-四次挥手流程" class="header-anchor">#</a> 3.1 四次挥手流程</h3> <blockquote><p>数据传输完毕后，双方都可释放连接。最开始的时候，客户端和服务器都是处于ESTABLISHED状态，<strong>然后客户端主动关闭，服务器被动关闭</strong>。</p></blockquote> <ol><li>客户端进程发出连接释放报文，并且停止发送数据。释放数据报文首部，<strong>FIN=1，其序列号为seq=u</strong>（等于前面已经传送过来的数据的最后一个字节的序号加1），此时，客户端进入FIN-WAIT-1（终止等待1）状态。 TCP规定，FIN报文段即使不携带数据，也要消耗一个序号。</li> <li>服务器收到连接释放报文，发出确认报文，<strong>ACK=1，ack=u+1，并且带上自己的序列号seq=v</strong>，此时，服务端就进入了CLOSE-WAIT（关闭等待）状态。TCP服务器通知高层的应用进程，客户端向服务器的方向就释放了，这时候处于半关闭状态，即客户端已经没有数据要发送了，但是服务器若发送数据，客户端依然要接受。这个状态还要持续一段时间，也就是整个CLOSE-WAIT状态持续的时间。</li> <li>客户端收到服务器的确认请求后，此时，客户端就进入FIN-WAIT-2（终止等待2）状态，等待服务器发送连接释放报文（在这之前还需要接受服务器发送的最后的数据）。</li> <li>服务器将最后的数据发送完毕后，就向客户端发送连接释放报文，<strong>FIN=1，ack=u+1</strong>，由于在半关闭状态，服务器很可能又发送了一些数据，假定此时的<strong>序列号为seq=w</strong>，此时，服务器就进入了LAST-ACK（最后确认）状态，等待客户端的确认。</li> <li>客户端收到服务器的连接释放报文后，必须发出确认，<strong>ACK=1，ack=w+1，而自己的序列号是seq=u+1</strong>，此时，客户端就进入了TIME-WAIT（时间等待）状态。<span style="color:red;"><strong>注意此时TCP连接还没有释放，必须经过2∗MSL（最长报文段寿命）的时间后，当客户端撤销相应的TCB后，才进入CLOSED状态</strong></span>。</li> <li>服务器只要收到了客户端发出的确认，立即进入CLOSED状态。同样，撤销TCB后，就结束了这次的TCP连接。可以看到，服务器结束TCP连接的时间要比客户端早一些。</li></ol> <p><img src="/assets/img/format,png.9c82a442.png" alt="四次挥手"></p> <h3 id="_3-2-为什么客户端最后还要等待2msl"><a href="#_3-2-为什么客户端最后还要等待2msl" class="header-anchor">#</a> 3.2 为什么客户端最后还要等待2MSL？</h3> <p>MSL（Maximum Segment Lifetime）（最长报文段寿命），TCP允许不同的实现可以设置不同的MSL值。</p> <p>第一，保证客户端发送的最后一个ACK报文能够到达服务器，因为这个ACK报文可能丢失，站在服务器的角度看来，我已经发送了FIN+ACK报文请求断开了，客户端还没有给我回应，应该是我发送的请求断开报文它没有收到，于是服务器又会重新发送一次，而客户端就能在这个2MSL时间段内收到这个重传的报文，接着给出回应报文，并且会重启2MSL计时器。</p> <p>第二，防止类似与“三次握手”中提到了的“已经失效的连接请求报文段”出现在本连接中。客户端发送完最后一个确认报文后，在这个2MSL时间中，就可以使本连接持续的时间内所产生的所有报文段都从网络中消失。这样新的连接中不会出现旧连接的请求报文。</p> <h3 id="_3-3-为什么建立连接是三次握手-关闭连接确是四次挥手呢"><a href="#_3-3-为什么建立连接是三次握手-关闭连接确是四次挥手呢" class="header-anchor">#</a> 3.3 为什么建立连接是三次握手，关闭连接确是四次挥手呢？</h3> <p>客户端和服务端未必能同时结束通信，存在一方发送完全部数据、而另一方还有数据要继续发送的情况。所以双方都必须分别发送连接释放报文和ACK</p> <h3 id="_3-4-如果已经建立了连接-但是客户端突然出现故障了怎么办"><a href="#_3-4-如果已经建立了连接-但是客户端突然出现故障了怎么办" class="header-anchor">#</a> 3.4 如果已经建立了连接，但是客户端突然出现故障了怎么办？</h3> <p>TCP还设有一个保活计时器，显然，客户端如果出现故障，服务器不能一直等下去，白白浪费资源。服务器每收到一次客户端的请求后都会重新复位这个计时器，时间通常是设置为2小时，若两小时还没有收到客户端的任何数据，服务器就会发送一个探测报文段，以后每隔75秒发送一次。若一连发送10个探测报文仍然没反应，服务器就认为客户端出了故障，接着就关闭连接。</p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/lllllan-fv/blog/edit/main/3-cs-basic/1-network/2-interview-questions/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">2022年1月21日 10:30</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: 342310798@qq.com" class="contributor">
          lllllan
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/3-cs-basic/" class="prev router-link-active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        计算机基础
      </a></span> <span class="next"><a href="/3-cs-basic/1-network/1-how-is-the-network-connected/1-browser-generated-messages/">
        第一章、浏览器生成消息
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <footer class="footer-wrapper"><!----> <div class="footer"><a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备2021095794号</a></div> <div class="copyright">Copyright © 2022 lllllan</div></footer></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.7623ec66.js" defer></script><script src="/assets/js/vendors~layout-Layout.d3ef1ddc.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.e3241214.js" defer></script><script src="/assets/js/page-计算机网络-常见面试题.12b72724.js" defer></script>
  </body>
</html>
